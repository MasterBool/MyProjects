CREATE DATABASE IF NOT EXISTS shop;
USE shop;

# 创建管理员表
DROP TABLE IF EXISTS Admin;
CREATE TABLE Admin(
    id TINYINT UNSIGNED AUTO_INCREMENT PRIMARY KEY ,
    username VARCHAR(20) NOT NULL UNIQUE ,
    password CHAR(32) NOT NULL ,
    email VARCHAR(50) NOT NULL
);

# 创建分类表
DROP TABLE IF EXISTS Category;
CREATE TABLE Category(
    id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY ,
    name VARCHAR(50) UNIQUE
);

# 创建商品表
DROP TABLE IF EXISTS GoodsList;
CREATE TABLE GoodsList(
    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY ,
    name VARCHAR(50) NOT NULL ,
    goodsId VARCHAR(50) NOT NULL ,
    count INT UNSIGNED DEFAULT 1,
    marketPrice DECIMAL(10,2) NOT NULL ,
    iPrice DECIMAL(10,2) NOT NULL ,
    introduction TEXT ,
    image VARCHAR(50) NOT NULL ,
    publishTime INT UNSIGNED NOT NULL ,
    isShow TINYINT(1) DEFAULT 1,
    isHot TINYINT(1) DEFAULT 0,
    categoryId SMALLINT UNSIGNED NOT NULL
);

# 创建用户表
DROP TABLE IF EXISTS User;
CREATE TABLE User(
    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY ,
    username VARCHAR(20) NOT NULL UNIQUE ,
    password CHAR(32) NOT NULL ,
    sex ENUM('男', '女', '保密') NOT NULL DEFAULT '保密',
    face VARCHAR(50) NOT NULL ,
    registerTime INT UNSIGNED NOT NULL
);

# 创建相册表
DROP TABLE IF EXISTS Album;
CREATE TABLE Album(
    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY ,
    goodsId INT UNSIGNED NOT NULL ,
    albumPath VARCHAR(50) NOT NULL
);

